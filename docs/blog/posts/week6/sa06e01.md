---
date:
  created: 2025-10-20
  draft: true
---

# **📅 SAISON A Semaine 6 Épisode 1 - Introduction à Svelte**

## **📚 Notions du jour**

+ Comprendre les concepts de base de Svelte
+ Découverte Node.js et NPM
+ Découvrir la syntaxe de Svelte

<!-- more -->

---

### **🌟 Pourquoi Svelte ? Le Passage du Code Impératif au Déclaratif**

Jusqu’à présent, avec du **JavaScript natif**, j’écrivais du code **impératif** : je devais décrire **chaque étape** pour réaliser une action (ex: créer un élément, lui ajouter une classe, le placer dans le DOM, etc.). Avec **Svelte**, je passe à une approche **déclarative** : je déclare **ce que je veux obtenir**, et Svelte s’occupe du reste en générant le code JavaScript nécessaire en arrière-plan.

**Exemple comparatif :**

+ **JavaScript impératif** :

  ```javascript
  // Créer un élément, lui ajouter du texte, et l'ajouter au DOM
  const paragraph = document.createElement("p");
  paragraph.textContent = "Hello, world!";
  document.body.appendChild(paragraph);
  ```

+ **Svelte déclaratif** :

  ```svelte
  <!-- Dans un fichier .svelte -->
  <p>Hello, world!</p>
  ```

  *Svelte compile ce code en JavaScript optimisé pour moi !*

**Avantage** : Moins de code à écrire, plus de lisibilité, et une maintenance simplifiée.

---

### **📦 Librairie vs Framework : Où se Situe Svelte ?**

+ **Librairie** : Un outil spécifique qui ajoute des fonctionnalités à JavaScript (ex: `axios` pour les requêtes HTTP).
+ **Framework** : Un **cadre de travail** complet qui impose une structure et des outils pour organiser le projet (ex: React, Angular).

**Svelte** est souvent présenté comme une **librairie**, mais il offre une expérience proche d’un *framework* grâce à son système de compilation et ses outils intégrés. Il est **moins intrusif** que les frameworks traditionnels, car il ne nécessite pas de *runtime* lourd : le code est compilé en JavaScript natif lors du *build*.

---

### **🛠 Contenu d’un Projet Svelte : Les Dépendances et `package.json`**

Un projet Svelte repose sur des **dépendances** gérées via **`npm` (Node Package Manager)**. Ces dépendances sont listées dans un fichier **`package.json`**, qui décrit le projet et ses besoins.

**Exemple de `package.json` :**

```json
{
  "name": "demo-svelte",
  "version": "0.0.1",
  "scripts": {
    "dev": "vite",  // Lance le serveur de développement
    "build": "vite build",  // Compile le projet pour la production
    "preview": "vite preview"  // Prévisionne le build
  },
  "dependencies": {
    "svelte": "^4.0.0"  // Version de Svelte utilisée
  },
  "devDependencies": {
    "@sveltejs/vite-plugin-svelte": "^3.0.0",  // Plugin pour intégrer Svelte avec Vite
    "vite": "^5.0.0"  // Outil de build rapide
  }
}
```

#### **Rôle de Vite**

**Vite** est un outil de *build* ultra-rapide qui :

+ Compile le code Svelte en JavaScript.
+ Lance un **serveur de développement** avec rechargement à chaud (*hot reload*).
+ Optimise les assets pour la production.

---

### **🚀 Installation de Svelte : Étapes Clés**

Pour créer un projet Svelte, voici les commandes à exécuter dans le terminal :

1. **Vérifier les versions de Node.js et npm** :

   ```bash
   node --version  # Doit afficher v18.x ou supérieur
   npm --version   # Doit afficher v9.x ou supérieur
   ```

2. **Créer un projet avec Vite** :

   ```bash
   npm create vite@latest
   ```
   - Choisir un nom pour le projet (ex: `my-first-svelte-project`).
   - Sélectionner **Svelte** comme framework.
   - Choisir **JavaScript** (ou TypeScript) comme variant.
   - Répondre **Non** à l’option expérimentale *rolldown-vite*.
   - Accepter l’installation des dépendances avec npm.

3. **Lancer le serveur de développement** :

   ```bash
   cd my-first-svelte-project  # Se déplacer dans le dossier du projet
   npm run dev  # Démarre le serveur sur http://localhost:5173
   ```

---

### **📝 La Syntax de Svelte : Les Bases**

#### **1. Structure d’un Fichier `.svelte`**

Un fichier Svelte est composé de **trois parties** :

+ `<script>` : Pour la logique JavaScript.
+ Le *template* (HTML étendu) : Pour la structure.
+ `<style>` : Pour les styles CSS (scopés au composant).

**Exemple minimal :**

```svelte
<script>
  // Logique JavaScript ici
  let name = "world";
</script>

<!-- Template HTML étendu -->
<h1>Hello {name}!</h1>

<!-- Styles CSS scopés -->
<style>
  h1 {
    color: blue;
  }
</style>
```

---

#### **2. Tags et Composants**

+ Les **tags en minuscules** (`<div>`, `<p>`) sont des éléments HTML classiques.
+ Les **tags en majuscules** (`<Widget>`) ou avec une notation par points (`<my.component>`) sont des **composants Svelte**.

**Exemple d’import et d’utilisation d’un composant :**

```svelte
<script>
  import Widget from './Widget.svelte';  // Import du composant
</script>

<div>
  <Widget />  <!-- Utilisation du composant -->
</div>
```

---

#### **3. Attributs et Props**

Les attributs fonctionnent comme en HTML, mais **acceptent des expressions JavaScript**.

**Exemples :**

```svelte
<!-- Attribut statique -->
<div class="container">
  <button disabled>Can't touch this</button>
</div>

<!-- Attribut dynamique -->
<input type="checkbox" checked={isChecked} />

<!-- Attribut conditionnel (inclus seulement si la valeur est "truthy") -->
<button disabled={!isClickable}>Submit</button>

<!-- Valeur par défaut si l'expression est "nullish" -->
<input placeholder={placeholderText || "Default text"} />

<!-- Raccourci si le nom de l'attribut = nom de la variable -->
<button {disabled}>...</button>
<!-- Équivalent à : <button disabled={disabled}> -->
```

**Pour les composants**, on parle de **props** (propriétés) :

```svelte
<Widget foo={bar} answer={42} text="Hello" />
```

---

#### **4. Boucles avec `{#each}`**

Svelte permet d’itérer sur des tableaux ou des objets avec la syntaxe `{#each}`.

**Exemple avec un tableau :**

```svelte
<script>
  let items = [
    { name: "Apples", qty: 5 },
    { name: "Bananas", qty: 3 },
    { name: "Oranges", qty: 2 }
  ];
</script>

<h1>Shopping List</h1>
<ul>
  {#each items as item}
    <li>{item.name} x {item.qty}</li>
  {/each}
</ul>
```

**Avec un index :**

```svelte
{#each items as item, index}
  <li>{index + 1}: {item.name}</li>
{/each}
```

---

#### **5. Conditions avec `{#if}`**

Les blocs conditionnels permettent d’afficher du contenu en fonction d’une expression.

**Exemple basique :**

```svelte
<script>
  let answer = 42;
</script>

{#if answer === 42}
  <p>What was the question?</p>
{/if}
```

**Avec `{:else if}` et `{:else}` :**

```svelte
<script>
  let temperature = 85;
</script>

{#if temperature > 100}
  <p>Too hot!</p>
{:else if temperature < 80}
  <p>Too cold!</p>
{:else}
  <p>Just right!</p>
{/if}
```

**Note :** Les blocs peuvent aussi envelopper du **texte seul** (sans balise HTML).

---

#### **6. Appeler une Fonction dans le Template**

En Svelte, on peut **appeler directement une fonction** dans le template.

**Exemple :**

```svelte
<script>
  // Déclare une fonction
  function greet(name) {
    return `Hello, ${name}!`;
  }
</script>

<!-- Appelle la fonction dans le template -->
<p>{greet("Svelte")}</p>
<!-- Affiche : "Hello, Svelte!" -->
```

---

### **🎯 Ce Que Je Retiens**

1. **Svelte simplifie le développement** en passant d’un modèle impératif à déclaratif.
2. **`npm` et `package.json`** sont essentiels pour gérer les dépendances d’un projet.
3. **Vite** est un outil puissant pour compiler et servir rapidement un projet Svelte.
4. **La syntaxe de Svelte** est intuitive et proche du HTML, avec des super-pouvoirs comme `{#each}` et `{#if}`.
5. **Les composants** permettent de découper l’interface en morceaux réutilisables.

---

## **⌨️ Challenge du jour**

### **🍽️ Présentation du Projet : O’Recipes**

Pour cette semaine de formation nous aurons un **projet fil rouge** : **O’Recipes**, une application web de gestion de recettes de cuisine. L’objectif final est de créer une interface dynamique où l’on pourra **afficher, ajouter, modifier et supprimer des recettes** sous forme de carte.

**Rendu final attendu :**

*(Insérer ici l’image `resultat.png` du rendu final de l’application.)*

---

### **🎯 Objectif du Challenge du Jour**

Pour ce premier jour, le défi était de :

1. **Intégrer une carte de recette** en HTML/CSS (basée sur une maquette fournie).
2. **Dynamiser l’affichage** pour afficher plusieurs recettes à partir d’un tableau de données.
3. **Explorer l’utilisation d’outils d’IA** pour convertir un fichier Markdown (`data.md` dans l'exemple) en un tableau JavaScript utilisable dans Svelte.

---

### **📌 Étape 1 : Intégration HTML/CSS d’une Recette**

**Objectif :** Créer une carte de recette statique en utilisant **Svelte**, en se basant sur la maquette fournie.

**Données fournies pour la recette :**

Dans un fichier Markdown (`data.md`) nous avons les données à utiliser sous le format suivant :

```md
# Recettes

## Titre recette n°1

nom-recette-1.webp

+ Étape 1.
+ Étape 2.
+ Étape 3.

## Titre recette n°2

nom-recette-2.webp

+ Étape 1.
+ Étape 2.
+ Étape 3.

[...etc...]
```

---

#### **🧑‍💻 Mon Code pour l’Intégration Statique**

*(Insérer ici le bloc de code Svelte que tu as écrit pour afficher une seule recette. Par exemple :)*

```svelte

```

---

#### **🖼️ Rendu Visuel de l’Étape 1**

*(Insérer ici une capture d’écran du rendu de ta carte de recette statique, ou l’image `integration.png` fournie dans l’énoncé.)*

---

### **🔄 Étape 2 : Dynamiser l’Affichage pour Plusieurs Recettes**

**Objectif :** Passer d’une recette statique à un affichage dynamique de **plusieurs recettes**, en utilisant un tableau de données et la syntaxe `{#each}` de Svelte.

**Données à utiliser :** Les 3 premières recettes du fichier [`data.md`](data.md).

---

#### **📖 Mon Code pour l’Affichage Dynamique**

*(Insérer ici le bloc de code Svelte que tu as écrit pour afficher plusieurs recettes dynamiquement. Par exemple :)*

```svelte
<script>
  // Tableau de recettes (3 premières recettes du fichier data.md)
  const recipes = [
    {
      title: "Spaghetti Carbonara",
      image: "/spaghetti-carbonara.webp",
      description: `
        <ul>
          <li>Cuire les spaghettis al dente.</li>
          <li>Faire revenir les lardons et ajouter la crème.</li>
          <li>Mélanger le tout avec du parmesan et servir.</li>
        </ul>
      `
    },
    {
      title: "Tarte aux Pommes",
      image: "/tarte-aux-pommes.webp",
      description: `
        <ul>
          <li>Étaler la pâte dans un moule.</li>
          <li>Disposer les pommes en rosace.</li>
          <li>Enfourner à 180°C pendant 30 minutes.</li>
        </ul>
      `
    },
    {
      title: "Salade César",
      image: "/salade-cesar.webp",
      description: `
        <ul>
          <li>Laver et couper la laitue.</li>
          <li>Ajouter les croûtons et le poulet grillé.</li>
          <li>Arroser de sauce César et servir.</li>
        </ul>
      `
    }
  ];
</script>

<!-- Affichage dynamique des recettes avec {#each} -->
<div class="recipes-container">
  {#each recipes as recipe}
    <div class="recipe-card">
      <img src={recipe.image} alt={recipe.title} class="recipe-image" />
      <h2 class="recipe-title">{recipe.title}</h2>
      {@html recipe.description}
    </div>
  {/each}
</div>

<!-- Styles CSS mis à jour pour le conteneur -->
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

  .recipes-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    padding: 20px;
  }

  .recipe-card {
    font-family: 'Roboto', sans-serif;
    width: 300px;
    border: 1px solid #ddd;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  /* ... (le reste des styles reste identique) ... */
</style>
```

---

#### **🖼️ Rendu Visuel de l’Étape 2**

*(Insérer ici une capture d’écran du rendu avec les 3 recettes affichées dynamiquement.)*

---

### **🤖 Étape 3 : Conversion du Fichier Markdown en Tableau JavaScript**

**Objectif :** Utiliser un outil d’IA (comme Mistral, Copilot, etc.) pour **convertir automatiquement** le contenu du fichier [`data.md`](data.md) en un tableau JavaScript utilisable dans Svelte.

**Contenu du fichier `data.md` :**

*(Insérer ici un extrait du contenu du fichier `data.md` pour montrer sa structure. Par exemple :)*

```markdown
# Spaghetti Carbonara
- Cuire les spaghettis al dente.
- Faire revenir les lardons et ajouter la crème.
- Mélanger le tout avec du parmesan et servir.

# Tarte aux Pommes
- Étaler la pâte dans un moule.
- Disposer les pommes en rosace.
- Enfourner à 180°C pendant 30 minutes.

# Salade César
- Laver et couper la laitue.
- Ajouter les croûtons et le poulet grillé.
- Arroser de sauce César et servir.
```

---

#### **📖 Mon Processus de Conversion avec l’IA**

1. **Première tentative :**
   J’ai demandé à l’IA : *"Convertis ce fichier Markdown en un tableau JavaScript pour Svelte, avec les clés `title`, `image`, et `description` (la description doit être une liste HTML `<ul>`)."*

   **Résultat :** L’IA a généré un tableau, mais les noms des images n’étaient pas corrects (ex: `"spaghetti-carbonara.md"` au lieu de `"spaghetti-carbonara.webp"`).

2. **Deuxième tentative :**
   J’ai précisé : *"Les images sont au format `.webp` et leur nom correspond au titre de la recette en minuscules, avec des tirets (ex: `spaghetti-carbonara.webp`)."*

   **Résultat final :**
   *(Insérer ici le bloc de code JavaScript généré par l’IA et corrigé par toi. Par exemple :)*

```javascript
const recipes = [
  {
    title: "Spaghetti Carbonara",
    image: "/spaghetti-carbonara.webp",
    description: `
      <ul>
        <li>Cuire les spaghettis al dente.</li>
        <li>Faire revenir les lardons et ajouter la crème.</li>
        <li>Mélanger le tout avec du parmesan et servir.</li>
      </ul>
    `
  },
  {
    title: "Tarte aux Pommes",
    image: "/tarte-aux-pommes.webp",
    description: `
      <ul>
        <li>Étaler la pâte dans un moule.</li>
        <li>Disposer les pommes en rosace.</li>
        <li>Enfourner à 180°C pendant 30 minutes.</li>
      </ul>
    `
  },
  // ... (toutes les autres recettes)
];
```
